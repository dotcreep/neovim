local function tabnine_build_path()
	-- Replace vim.uv with vim.loop if using NVIM 0.9.0 or below
	if vim.loop.os_uname().sysname == "Windows_NT" then
		return "pwsh.exe -file .\\install.ps1"
	else
		return "./install.sh"
	end
end

return {
	"tzachar/cmp-tabnine",
	build = function()
		return vim.loop.os_uname().sysname == "Windows_NT" and "pwsh.exe -file .\\install.ps1" or "./install.sh"
	end,
	dependencies = "hrsh7th/nvim-cmp",
	opts = {
		max_lines = 1000,
		max_num_results = 3,
		sort = true,
	},
	config = function(_, opts)
		require("cmp_tabnine.config"):setup(opts)
	end,
}
